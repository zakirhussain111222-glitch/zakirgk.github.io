<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delhi Sultanate Online Exam</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root{
 --bg:#e3f2fd;
 --card:#ffffff;
 --text:#000;
 --primary:#0d47a1;
}
.dark{
 --bg:#121212;
 --card:#1e1e1e;
 --text:#fff;
 --primary:#90caf9;
}
body{
 margin:0;
 font-family:Segoe UI,Arial;
 background:var(--bg);
 color:var(--text);
}
.container{
 max-width:900px;
 margin:25px auto;
 background:var(--card);
 border-radius:10px;
 box-shadow:0 10px 25px rgba(0,0,0,0.2);
 overflow:hidden;
}
.header{
 background:var(--primary);
 color:#fff;
 padding:15px;
 text-align:center;
 position:relative;
}
.toggle{
 position:absolute;
 right:15px;
 top:15px;
 background:#fff;
 color:#000;
 border:none;
 padding:5px 10px;
 border-radius:5px;
 cursor:pointer;
}
.screen{display:none;}
.active{display:block;}

.center{
 text-align:center;
 padding:40px;
}
input{
 padding:12px;
 width:80%;
 max-width:300px;
 font-size:16px;
}
button{
 padding:10px 25px;
 margin:8px;
 background:var(--primary);
 color:#fff;
 border:none;
 border-radius:5px;
 cursor:pointer;
}
.timer{
 text-align:right;
 font-weight:bold;
 padding:10px;
}
.question{
 font-size:18px;
 margin:15px 0;
}
.option{
 padding:12px;
 border:1px solid #888;
 margin-bottom:10px;
 border-radius:5px;
 cursor:pointer;
}
.option.selected{background:#bbdefb;}
.option.correct{background:#c8e6c9;border-color:green;}
.option.wrong{background:#ffcdd2;border-color:red;}
.review{
 padding:10px;
 margin:10px 0;
 border-left:5px solid #999;
}
.review.correct{border-color:green;}
.review.wrong{border-color:red;}
</style>
</head>

<body>
<div class="container">
<div class="header">
<h2>Delhi Sultanate Online Exam</h2>
<button class="toggle" onclick="toggleDark()">ðŸŒ™</button>
</div>

<!-- NAME -->
<div class="screen active" id="nameScr">
<div class="center">
<h3>Enter Your Name</h3>
<input id="name">
<br><br>
<button onclick="startExam()">Start Exam</button>
</div>
</div>

<!-- QUIZ -->
<div class="screen" id="quizScr">
<div class="timer">Time: <span id="time">30:00</span></div>
<div style="padding:25px">
<div id="qno"></div>
<div class="question" id="ques"></div>
<div id="opts"></div>
<button onclick="prev()">Previous</button>
<button onclick="next()">Next</button>
<button onclick="submitExam()">Submit</button>
</div>
</div>

<!-- RESULT -->
<div class="screen" id="resScr">
<div class="center">
<h3>Result</h3>
<p>Name: <b id="rName"></b></p>
<p>Score: <b id="rScore"></b></p>
<button onclick="downloadPDF()">Download PDF</button>
<hr>
<div id="reviewBox"></div>
<button onclick="location.reload()">Restart</button>
</div>
</div>
</div>

<script>
const Q=[/* 25 QUESTIONS */
{q:"à¤…à¤°à¤¬à¥‹à¤‚ à¤¨à¥‡ à¤­à¤¾à¤°à¤¤ à¤ªà¤° à¤•à¤¬ à¤†à¤•à¥à¤°à¤®à¤£ à¤•à¤¿à¤¯à¤¾?",o:["712","1025","1192","1206"],c:0},
{q:"à¤¸à¤¿à¤‚à¤§ à¤•à¤¾ à¤¶à¤¾à¤¸à¤•?",o:["à¤¦à¤¾à¤¹à¤¿à¤°","à¤œà¤¯à¤šà¤‚à¤¦","à¤ªà¥ƒà¤¥à¥à¤µà¥€à¤°à¤¾à¤œ","à¤¨à¤¾à¤—à¤­à¤Ÿà¥à¤Ÿ"],c:0},
{q:"à¤ªà¤¹à¤²à¤¾ à¤¸à¤«à¤² à¤…à¤°à¤¬ à¤†à¤•à¥à¤°à¤®à¤£?",o:["à¤®à¤¹à¤®à¥‚à¤¦","à¤•à¤¾à¤¸à¤¿à¤®","à¤¤à¥ˆà¤®à¥‚à¤°","à¤šà¤‚à¤—à¥‡à¤œ"],c:1},
{q:"à¤—à¤œà¤¨à¥€ à¤¸à¤‚à¤¸à¥à¤¥à¤¾à¤ªà¤•?",o:["à¤®à¤¹à¤®à¥‚à¤¦","à¤…à¤²à¤ªà¥à¤¤à¤—à¥€à¤¨","à¤¸à¥à¤¬à¥à¤•à¥à¤¤à¤—à¥€à¤¨","à¤—à¥Œà¤°à¥€"],c:1},
{q:"à¤…à¤²à¤ªà¥à¤¤à¤—à¥€à¤¨ à¤•à¤¾ à¤—à¥à¤²à¤¾à¤®?",o:["à¤®à¤¹à¤®à¥‚à¤¦","à¤¸à¥à¤¬à¥à¤•à¥à¤¤à¤—à¥€à¤¨","à¤à¤¬à¤•","à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶"],c:1},
{q:"à¤¸à¥‹à¤®à¤¨à¤¾à¤¥ à¤†à¤•à¥à¤°à¤®à¤£?",o:["1001","1015","1025","1030"],c:2},
{q:"à¤¤à¤°à¤¾à¤‡à¤¨ à¤ªà¥à¤°à¤¥à¤® à¤¯à¥à¤¦à¥à¤§?",o:["1178","1182","1191","1192"],c:2},
{q:"à¤¤à¤°à¤¾à¤‡à¤¨ à¤¦à¥à¤µà¤¿à¤¤à¥€à¤¯ à¤¯à¥à¤¦à¥à¤§?",o:["1191","1192","1206","1211"],c:1},
{q:"à¤—à¥à¤²à¤¾à¤® à¤µà¤‚à¤¶ à¤¸à¤‚à¤¸à¥à¤¥à¤¾à¤ªà¤•?",o:["à¤à¤¬à¤•","à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶","à¤¬à¤²à¤¬à¤¨","à¤°à¤œà¤¿à¤¯à¤¾"],c:0},
{q:"à¤•à¥à¤¤à¥à¤¬ à¤®à¥€à¤¨à¤¾à¤° à¤¨à¥€à¤‚à¤µ?",o:["à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶","à¤¬à¤²à¤¬à¤¨","à¤à¤¬à¤•","à¤«à¤¿à¤°à¥‹à¤œ"],c:2},
{q:"à¤²à¤¾à¤– à¤¬à¤–à¥à¤¶?",o:["à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶","à¤à¤¬à¤•","à¤¬à¤²à¤¬à¤¨","à¤°à¤œà¤¿à¤¯à¤¾"],c:1},
{q:"à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶ à¤—à¤¦à¥à¤¦à¥€?",o:["1206","1210","1211","1220"],c:2},
{q:"à¤°à¤œà¤¿à¤¯à¤¾ à¤¸à¥à¤²à¥à¤¤à¤¾à¤¨à¤¾?",o:["à¤ªà¤¹à¤²à¥€ à¤®à¤¹à¤¿à¤²à¤¾","à¤¦à¥‚à¤¸à¤°à¥€","à¤¤à¥à¤—à¤²à¤•","à¤–à¤¿à¤²à¤œà¥€"],c:0},
{q:"à¤¬à¤²à¤¬à¤¨ à¤¨à¥€à¤¤à¤¿?",o:["à¤²à¥Œà¤¹","à¤¶à¤¾à¤‚à¤¤à¤¿","à¤¸à¥à¤²à¤¹","à¤¦à¤¾à¤¨"],c:0},
{q:"à¤¦à¤¿à¤²à¥à¤²à¥€ à¤¸à¤²à¥à¤¤à¤¨à¤¤?",o:["1192","1206","1211","1220"],c:1},
{q:"à¤®à¤¹à¤®à¥‚à¤¦ à¤ªà¤¿à¤¤à¤¾?",o:["à¤…à¤²à¤ªà¥à¤¤à¤—à¥€à¤¨","à¤¸à¥à¤¬à¥à¤•à¥à¤¤à¤—à¥€à¤¨","à¤—à¥Œà¤°à¥€","à¤à¤¬à¤•"],c:1},
{q:"à¤®à¤¹à¤®à¥‚à¤¦ à¤†à¤•à¥à¤°à¤®à¤£ à¤¸à¤‚à¤–à¥à¤¯à¤¾?",o:["10","12","15","17"],c:3},
{q:"à¤šà¤‚à¤¦à¤¾à¤µà¤° à¤¯à¥à¤¦à¥à¤§?",o:["à¤œà¤¯à¤šà¤‚à¤¦-à¤—à¥Œà¤°à¥€","à¤ªà¥ƒà¤¥à¥à¤µà¥€-à¤—à¥Œà¤°à¥€","à¤¦à¤¾à¤¹à¤¿à¤°","à¤à¤¬à¤•"],c:0},
{q:"à¤à¤¬à¤• à¤®à¥ƒà¤¤à¥à¤¯à¥?",o:["à¤˜à¥‹à¤¡à¤¼à¤¾","à¤¬à¥€à¤®à¤¾à¤°à¥€","à¤¹à¤¤à¥à¤¯à¤¾","à¤¯à¥à¤¦à¥à¤§"],c:0},
{q:"à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶ à¤°à¤¾à¤œà¤§à¤¾à¤¨à¥€?",o:["à¤²à¤¾à¤¹à¥Œà¤°","à¤¦à¤¿à¤²à¥à¤²à¥€","à¤…à¤œà¤®à¥‡à¤°","à¤†à¤—à¤°à¤¾"],c:1},
{q:"à¤¬à¤²à¤¬à¤¨ à¤ªà¥à¤¤à¥à¤°?",o:["à¤•à¥ˆà¤–à¥à¤¸à¤°à¥‹","à¤¨à¤¸à¥€à¤°","à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶","à¤•à¥à¤¤à¥à¤¬"],c:0},
{q:"à¤¨à¥à¤¯à¤¾à¤¯ à¤¨à¥€à¤¤à¤¿?",o:["à¤¬à¤²à¤¬à¤¨","à¤à¤¬à¤•","à¤°à¤œà¤¿à¤¯à¤¾","à¤«à¤¿à¤°à¥‹à¤œ"],c:0},
{q:"à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶ à¤—à¤µà¤°à¥à¤¨à¤°?",o:["à¤¬à¤¦à¤¾à¤¯à¥‚à¤‚","à¤²à¤¾à¤¹à¥Œà¤°","à¤¦à¤¿à¤²à¥à¤²à¥€","à¤¬à¤‚à¤—à¤¾à¤²"],c:0},
{q:"à¤ªà¤¹à¤²à¥€ à¤®à¤¹à¤¿à¤²à¤¾ à¤¶à¤¾à¤¸à¤•?",o:["à¤°à¤œà¤¿à¤¯à¤¾","à¤¨à¥‚à¤°à¤œà¤¹à¤¾à¤‚","à¤šà¤¾à¤‚à¤¦","à¤¬à¥‡à¤—à¤®"],c:0},
{q:"à¤—à¥à¤²à¤¾à¤®à¥‹à¤‚ à¤•à¤¾ à¤—à¥à¤²à¤¾à¤®?",o:["à¤‡à¤²à¥à¤¤à¥à¤¤à¤®à¤¿à¤¶","à¤¬à¤²à¤¬à¤¨","à¤à¤¬à¤•","à¤°à¤œà¤¿à¤¯à¤¾"],c:0}
];

let i=0,ans=[],score=0,time=1800,timer,name="";

function startExam(){
 name=document.getElementById("name").value.trim();
 if(!name)return alert("à¤¨à¤¾à¤® à¤²à¤¿à¤–à¥‡à¤‚");
 document.getElementById("nameScr").classList.remove("active");
 document.getElementById("quizScr").classList.add("active");
 document.documentElement.requestFullscreen();
 load();startTimer();
}

function startTimer(){
 timer=setInterval(()=>{
 time--;
 let m=Math.floor(time/60),s=time%60;
 document.getElementById("time").innerText=`${m}:${s.toString().padStart(2,"0")}`;
 if(time<=0)submitExam();
 },1000);
}

function load(){
 document.getElementById("qno").innerText=`Question ${i+1}/25`;
 document.getElementById("ques").innerText=Q[i].q;
 let o=document.getElementById("opts");o.innerHTML="";
 Q[i].o.forEach((x,j)=>{
 let d=document.createElement("div");
 d.className="option";
 if(ans[i]==j)d.classList.add("selected");
 d.innerText=x;
 d.onclick=()=>{ans[i]=j;load();}
 o.appendChild(d);
 });
}

function next(){if(i<24){i++;load();}}
function prev(){if(i>0){i--;load();}}

function submitExam(){
 clearInterval(timer);
 document.exitFullscreen();
 document.getElementById("quizScr").classList.remove("active");
 document.getElementById("resScr").classList.add("active");
 ans.forEach((a,x)=>{if(a==Q[x].c)score++;});
 document.getElementById("rName").innerText=name;
 document.getElementById("rScore").innerText=score+"/25";
 let r=document.getElementById("reviewBox");
 Q.forEach((q,x)=>{
 let d=document.createElement("div");
 d.className="review "+(ans[x]==q.c?"correct":"wrong");
 d.innerHTML=`<b>${q.q}</b><br>Your: ${q.o[ans[x]]||"NA"}<br>Correct: ${q.o[q.c]}`;
 r.appendChild(d);
 });
}

function downloadPDF(){
 const {jsPDF}=window.jspdf;
 let pdf=new jsPDF();
 pdf.text("Delhi Sultanate Exam Result",10,10);
 pdf.text("Name: "+name,10,20);
 pdf.text("Score: "+score+"/25",10,30);
 let y=40;
 Q.forEach((q,x)=>{
 pdf.text(`${x+1}. ${q.q}`,10,y);y+=7;
 pdf.text(`Your: ${q.o[ans[x]]||"NA"} | Correct: ${q.o[q.c]}`,10,y);y+=10;
 if(y>270){pdf.addPage();y=20;}
 });
 pdf.save("Result.pdf");
}

function toggleDark(){
 document.body.classList.toggle("dark");
}

/* TAB SWITCH WARNING */
document.addEventListener("visibilitychange",()=>{
 if(document.hidden){
  alert("Tab switch detected! Exam focus required.");
 }
});
</script>
</body>
</html>
