<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ЁЯХМ рд╕реВрдлреА рдЖрдВрджреЛрд▓рди : 10 MCQs Quiz</title>
<style>
body{font-family:'Segoe UI',Arial,sans-serif;background:linear-gradient(135deg,#ff6b6b 0%,#4ecdc4 100%);padding:20px;min-height:100vh;margin:0;}
.box{background:#fff;padding:30px;border-radius:15px;max-width:900px;margin:auto;box-shadow:0 15px 40px rgba(0,0,0,0.2);}
.hidden{display:none;}
.question{padding:25px;border:3px solid #e0e0e0;border-radius:12px;background:#f8f9fa;margin-bottom:20px;}
.correct{background:#d4edda !important;border-color:#28a745 !important;}
.wrong{background:#f8d7da !important;border-color:#dc3545 !important;}
.solution-box{padding:20px;margin-top:15px;background:#e3f2fd;border-left:6px solid #2196f3;border-radius:12px;}
.comprehensive-solution{padding:18px;margin:15px 0;background:#fff3e0;border-left:6px solid #ff9800;border-radius:12px;}
.correct-answer{color:#28a745;font-weight:bold;font-size:20px;}
.wrong-answer{color:#dc3545;text-decoration:line-through;font-size:18px;}
button{padding:12px 25px;font-size:16px;margin:8px;font-weight:500;border:none;border-radius:8px;cursor:pointer;transition:all 0.3s;box-shadow:0 4px 12px rgba(0,0,0,0.1);}
button:hover{transform:translateY(-2px);}
button:disabled{background:#ccc;color:#666;cursor:not-allowed;transform:none;}
#prevBtn{background:#6c757d;color:white;}
#nextBtn{background:#007bff;color:white;}
#submitBtn{background:#28a745;color:white;}
#showSolutionsBtn{background:#17a2b8;color:white;font-size:18px;padding:15px 30px;}
#restartBtn{background:#dc3545;color:white;}
#solPrevBtn{background:#6c757d;color:white;}
#solNextBtn{background:#007bff;color:white;}
#timer{text-align:center;font-weight:bold;font-size:20px;color:#495057;margin-bottom:20px;background:#fff3cd;padding:15px;border-radius:10px;border:2px solid #ffeaa7;}
#progressContainer{text-align:center;margin:20px 0;}
#progress{background:#e9ecef;height:12px;border-radius:6px;display:inline-block;width:60%;overflow:hidden;}
#progressBar{height:100%;background:linear-gradient(90deg,#28a745,#20c997);width:0%;transition:width 0.5s ease;border-radius:6px;}
.page-info{text-align:center;font-size:18px;color:#666;margin:20px 0;font-weight:500;}
label{display:block;margin:12px 0;font-size:16px;cursor:pointer;padding:12px;border-radius:8px;transition:background 0.2s;border:1px solid #eee;}
label:hover{background:#e3f2fd;}
input[type="radio"]{margin-right:12px;transform:scale(1.3);}
h2,h3{color:#333;margin:15px 0;text-align:center;}
.navigation{display:flex;justify-content:center;align-items:center;gap:15px;flex-wrap:wrap;}
.score-header{text-align:center;background:linear-gradient(135deg,#28a745,#20c997);color:white;padding:30px;border-radius:12px;margin-bottom:25px;}
.score-display{font-size:32px;font-weight:bold;margin:10px 0;}
.grade-badge{padding:10px 20px;background:#fff;color:#28a745;border-radius:25px;font-weight:bold;display:inline-block;margin:10px 0;}
.solutions-header{text-align:center;background:linear-gradient(135deg,#17a2b8,#138496);color:white;padding:25px;border-radius:12px;margin-bottom:25px;}
@media(max-width:768px){
 .box{padding:20px;}
 .navigation{flex-direction:column;}
 #progress{width:90%;}
 h2{font-size:22px;}
 .score-display{font-size:26px;}
}
</style>
</head>
<body>

<!-- QUIZ SCREEN -->
<div class="box" id="quizScreen">
  <h2>ЁЯХМ рд╕реВрдлреА рдЖрдВрджреЛрд▓рди : 10 MCQs Quiz</h2>
  <div id="timer">Time: 10:00</div>
  <div id="progressContainer">
    <div class="page-info" id="pageInfo">рдкреНрд░рд╢реНрди 1 / 10</div>
    <div id="progress"><div id="progressBar"></div></div>
  </div>
  <div id="currentQuestion" class="question"></div>
  <div class="navigation">
    <button id="prevBtn" onclick="changeQuestion(-1)">тЭо рдкрд┐рдЫрд▓рд╛</button>
    <button id="nextBtn" onclick="changeQuestion(1)">рдЕрдЧрд▓рд╛ тЭп</button>
    <button id="submitBtn" onclick="submitQuiz()" style="display:none;">Submit Quiz</button>
  </div>
</div>

<!-- SCORE SCREEN -->
<div class="box hidden" id="scoreScreen">
  <div class="score-header">
    <h2>ЁЯОЙ рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо</h2>
    <div id="finalScoreDisplay" class="score-display"></div>
    <div id="gradeDisplay" class="grade-badge"></div>
  </div>
  <div style="text-align:center;">
    <button id="showSolutionsBtn" onclick="openSolutions()">ЁЯУЪ рд╡рд┐рд╕реНрддреГрдд рд╕рдорд╛рдзрд╛рди рджреЗрдЦреЗрдВ</button><br><br>
    <button id="restartBtn" onclick="location.reload()">ЁЯФД рдирдпрд╛ рдХреНрд╡рд┐рдЬ рд╢реБрд░реВ рдХрд░реЗрдВ</button>
  </div>
</div>

<!-- SOLUTIONS SCREEN -->
<div class="box hidden" id="solutionsScreen">
  <div class="solutions-header">
    <h2>ЁЯУЪ рд╡рд┐рд╕реНрддреГрдд рд╕рдорд╛рдзрд╛рди</h2>
    <div id="solutionsScoreDisplay" class="score-display"></div>
  </div>
  <div id="currentSolution"></div>
  <div class="navigation">
    <button id="solPrevBtn" onclick="changeSolution(-1)">тЭо рдкрд┐рдЫрд▓рд╛</button>
    <button id="solNextBtn" onclick="changeSolution(1)">рдЕрдЧрд▓рд╛ тЭп</button>
    <button id="backToScoreBtn" onclick="backToScore()" style="background:#6c757d;color:white;">тЖР рд╕реНрдХреЛрд░</button>
  </div>
</div>

<script>
// [рдкреНрд░рд╢реНрди, A, B, C, D, рд╕рд╣реА рд╡рд┐рдХрд▓реНрдк рдХрд╛ letter]
const questions = [
["рдЖрдИрдиреЗ-рдЕрдХрдмрд░реА рдореЗрдВ рдЕрдмреБрд▓ рдлрд╝рдЬрд╝рд▓ рдиреЗ рдХрд┐рддрдиреЗ рд╕реВрдлреА рд╕рд┐рд▓рд╕рд┐рд▓реЛрдВ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИ?","10","12","14","16","C"],
["рднрд╛рд░рдд рдореЗрдВ рдХрд┐рд╕ рд╕реВрдлреА рд╕рд┐рд▓рд╕рд┐рд▓реЗ рдХреА рдЬрдбрд╝реЗрдВ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЧрд╣рд░реА рдереАрдВ?","рдХрд╝рд╛рджрд┐рд░реА","рд╕реБрд╣рд░рд╛рд╡рд░реНрджреА","рдирдХрд╝реНрд╢рдмрдВрджреА","рдЪрд┐рд╢реНрддреА","D"],
["рджрд╛рд░рд╛ рд╢рд┐рдХреЛрд╣ рдиреЗ рдХрд┐рд╕ рд╕реВрдлреА рд╕рд┐рд▓рд╕рд┐рд▓реЗ рдХреЛ рдЕрдкрдирд╛рдпрд╛ рдерд╛?","рдЪрд┐рд╢реНрддреА","рд╕реБрд╣рд░рд╛рд╡рд░реНрджреА","рдХрд╝рд╛рджрд┐рд░реА","рдирдХрд╝реНрд╢рдмрдВрджреА","C"],
["рдЪрд┐рд╢реНрддреА рд╕рд┐рд▓рд╕рд┐рд▓реЗ рдХреА рд╢реБрд░реБрдЖрдд рдХрд┐рд╕рдиреЗ рдХреА?","рдЦреНрд╡рд╛рдЬрд╛ рдореЛрдЗрдиреБрджреНрджреАрди рдЪрд┐рд╢реНрддреА","рдирд┐рдЬрд╝рд╛рдореБрджреНрджреАрди рдФрд▓рд┐рдпрд╛","рдЦреНрд╡рд╛рдЬрд╛ рдЕрдмреВ рдЗрд╢рд╛рдХрд╝ рд╢рд╛рдореА","рд╢реЗрдЦрд╝ рд╕рд▓реАрдо рдЪрд┐рд╢реНрддреА","C"],
["рдЕрдореАрд░ рдЦреБрд╕рд░реЛ рдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдирд╛рдо рдХреНрдпрд╛ рдерд╛?","рд╣рд╕рди рдирд┐рдЬрд╝рд╛рдореА","рд╢реЗрдЦрд╝ рд╕рд▓реАрдо","рдЕрдмреБрд▓ рд╣рд╕рди рдпрд╛рдореАрдиреБрджреНрджреАрди рдЦреБрд╕рд░реЛ","рдпрд╛рд╣реНрдпрд╛ рд╕рд┐рд░рд╣рд┐рдВрджреА","C"],
["тАЬрдорд╣рдмреВрдм-рдП-рдЗрд▓рд╛рд╣реАтАЭ рдХреЗ рдирд╛рдо рд╕реЗ рдХрд┐рд╕реЗ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ?","рд╢реЗрдЦрд╝ рд╕рд▓реАрдо рдЪрд┐рд╢реНрддреА","рдЦреНрд╡рд╛рдЬрд╛ рдореЛрдЗрдиреБрджреНрджреАрди рдЪрд┐рд╢реНрддреА","рдХреБрддреБрдмреБрджреНрджреАрди рдмрдЦреНрддрд┐рдпрд╛рд░ рдХрд╛рдХреА","рдирд┐рдЬрд╝рд╛рдореБрджреНрджреАрди рдФрд▓рд┐рдпрд╛","D"],
["рдирд┐рдЬрд╝рд╛рдореБрджреНрджреАрди рдФрд▓рд┐рдпрд╛ рдиреЗ тАЬрджрд┐рд▓реНрд▓реА рдЕрднреА рджреВрд░ рд╣реИтАЭ рдпрд╣ рдХрд┐рд╕рд╕реЗ рдХрд╣рд╛ рдерд╛?","рдЕрд▓рд╛рдЙрджреНрджреАрди рдЦрд┐рд▓рдЬреА","рдЧрд╝рдпрд╛рд╕реБрджреНрджреАрди рддреБрдЧрд▓рдХ","рдореБрд╣рдореНрдордж рдмрд┐рди рддреБрдЧрд▓рдХ","рдлрд╝рд┐рд░реЛрдЬрд╝рд╢рд╛рд╣ рддреБрдЧрд▓рдХ","B"],
["рд╕реВрдлреА рд╕рдВрддреЛрдВ рдХреЗ рдЕрдиреБрдпрд╛рдпрд┐рдпреЛрдВ рдХреЛ рдХреНрдпрд╛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ?","рдкреАрд░","рдлрд╝рдХреАрд░","рдореБрд░реАрдж","рдЙрд▓реЗрдорд╛","C"],
["рдкреНрд░рд╕рд┐рджреНрдз рд╕реВрдлреА рд╕рдВрдд рд╢реЗрдЦрд╝ рд╕рд▓реАрдо рдЪрд┐рд╢реНрддреА рдХрд╣рд╛рдБ рд░рд╣рддреЗ рдереЗ?","рдЕрдЬрдореЗрд░","рджрд┐рд▓реНрд▓реА","рд▓рд╛рд╣реМрд░","рдлрд╝рддреЗрд╣рдкреБрд░ рд╕реАрдХрд░реА","D"],
["рдЦреНрд╡рд╛рдЬрд╛ рдореЛрдЗрдиреБрджреНрджреАрди рдЪрд┐рд╢реНрддреА рдХреА рджрд░рдЧрд╛рд╣ рдХрд╣рд╛рдБ рд╕реНрдерд┐рдд рд╣реИ?","рджрд┐рд▓реНрд▓реА","рдлрд╝рддреЗрд╣рдкреБрд░ рд╕реАрдХрд░реА","рдЕрдЬрдореЗрд░","рд▓рд╛рд╣реМрд░","C"]
];

const detailedExplanations = {
  0:"рдЕрдмреБрд▓ рдлрд╝рдЬрд╝рд▓ рдиреЗ тАШрдЖрдИрдиреЗтАСрдЕрдХрдмрд░реАтАЩ рдореЗрдВ рдХреБрд▓ 14 рд╕реВрдлреА рд╕рд┐рд▓рд╕рд┐рд▓реЛрдВ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИ, рдЬреЛ рдЙрд╕ рд╕рдордп рдкреНрд░рдЪрд▓рд┐рдд рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ рдкрд░рдВрдкрд░рд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВред",
  1:"рднрд╛рд░рдд рдореЗрдВ рдЪрд┐рд╢реНрддреА рд╕рд┐рд▓рд╕рд┐рд▓рд╛ рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рд░рд╣рд╛; рдЗрд╕рдХреА рдЦрд╛рдирдХрд╛рд╣реЗрдВ рдЕрдЬрдореЗрд░, рджрд┐рд▓реНрд▓реА рдФрд░ рдЙрддреНрддрд░ рднрд╛рд░рдд рдХреЗ рдХрдИ рдЗрд▓рд╛рдХреЛрдВ рдореЗрдВ рдлреИрд▓реАрдВ рдФрд░ рдЬрдирд╕рд╛рдзрд╛рд░рдг рд╕реЗ рдирд┐рдХрдЯ рд░рд╣реАрдВред",
  2:"рдореБрдЧрд▓ рд░рд╛рдЬрдХреБрдорд╛рд░ рджрд╛рд░рд╛ рд╢рд┐рдХреЛрд╣ рдиреЗ рдХрд╝рд╛рджрд┐рд░реА рд╕рд┐рд▓рд╕рд┐рд▓рд╛ рдЕрдкрдирд╛рдпрд╛ рдФрд░ рд╣рд┐рдВрджреВтАСрдореБрд╕реНрд▓рд┐рдо рд╕рдордиреНрд╡рдп рдкрд░ тАШрдордЬрдордЙрд▓тАСрдмрд╣рд░реАрдитАЩ рдЬреИрд╕реЗ рдЧреНрд░рдВрде рд▓рд┐рдЦреЗред",
  3:"рдЪрд┐рд╢реНрддреА рд╕рд┐рд▓рд╕рд┐рд▓реЗ рдХреА рд╢реБрд░реБрдЖрдд рдордзреНрдп рдПрд╢рд┐рдпрд╛ рдореЗрдВ рдЦреНрд╡рд╛рдЬрд╛ рдЕрдмреВ рдЗрд╢рд╛рдХрд╝ рд╢рд╛рдореА рдиреЗ рдХреА; рдмрд╛рдж рдореЗрдВ рдЦреНрд╡рд╛рдЬрд╛ рдореЛрдЗрдиреБрджреНрджреАрди рдЪрд┐рд╢реНрддреА рдЗрд╕реЗ рднрд╛рд░рдд рд▓рд╛рдПред",
  4:"рдЕрдореАрд░ рдЦреБрд╕рд░реЛ рдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдирд╛рдо рдЕрдмреБрд▓ рд╣рд╕рди рдпрд╛рдореАрдиреБрджреНрджреАрди рдЦреБрд╕рд░реЛ рдерд╛; рд╡реЗ рдЪрд┐рд╢реНрддреА рд╕рдВрдд рдирд┐рдЬрд╝рд╛рдореБрджреНрджреАрди рдФрд▓рд┐рдпрд╛ рдХреЗ рд╢рд┐рд╖реНрдп рдФрд░ рдмрд╣реБрднрд╛рд╖реА рдХрд╡рд┐ рдереЗред",
  5:"рджрд┐рд▓реНрд▓реА рдХреЗ рд╕реВрдлреА рд╕рдВрдд рдирд┐рдЬрд╝рд╛рдореБрджреНрджреАрди рдФрд▓рд┐рдпрд╛ рдХреЛ рдЙрдирдХреЗ рдЕрдиреБрдпрд╛рдпреА тАШрдорд╣рдмреВрдмтАСрдПтАСрдЗрд▓рд╛рд╣реАтАЩ рдпрд╛рдиреА рдИрд╢реНрд╡рд░ рдХрд╛ рдкреНрд░рд┐рдп рдХрд╣рдХрд░ рд╕реНрдорд░рдг рдХрд░рддреЗ рдереЗред",
  6:"рдХрд╣рд╛рдиреА рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЧрд╝рдпрд╛рд╕реБрджреНрджреАрди рддреБрдЧрд▓рдХ рдХреЗ рджрд┐рд▓реНрд▓реА рд▓реМрдЯрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдирд┐рдЬрд╝рд╛рдореБрджреНрджреАрди рдФрд▓рд┐рдпрд╛ рдиреЗ рдХрд╣рд╛, тАШрд╣рдиреНреЫ рджрд┐рд▓реНрд▓реА рджреВрд░ рдЕрд╕реНрддтАЩ тАФ рдЕрд░реНрдерд╛рдд тАШрдЕрднреА рджрд┐рд▓реНрд▓реА рджреВрд░ рд╣реИтАЩред",
  7:"рд╕реВрдлреА рдкрд░рдВрдкрд░рд╛ рдореЗрдВ рдкреАрд░ рдХреЗ рд╢рд┐рд╖реНрдп рдпрд╛ рдЕрдиреБрдпрд╛рдпреА рдХреЛ тАШрдореБрд░реАрджтАЩ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рдЙрд╕рд╕реЗ рдмреИрдЕрдд рд▓реЗрддреЗ рд╣реИрдВред",
  8:"рд╢реЗрдЦрд╝ рд╕рд▓реАрдо рдЪрд┐рд╢реНрддреА рдЕрдХрдмрд░ рдХреЗ рд╕рдордп рдлрд╝рддреЗрд╣рдкреБрд░ рд╕реАрдХрд░реА рдореЗрдВ рд░рд╣рддреЗ рдереЗ; рд╡рд╣реАрдВ рдЙрдирдХреА рджрд░рдЧрд╛рд╣ рд╣реИ рдЬрд╣рд╛рдБ рдЕрдХрдмрд░ рд╕рдВрддрд╛рдитАСрдкреНрд░рд╛рдкреНрддрд┐ рдХреА рдореБрд░рд╛рдж рд▓реЗрдХрд░ рдЧрдпрд╛ рдерд╛ред",
  9:"рдЦреНрд╡рд╛рдЬрд╛ рдореЛрдЗрдиреБрджреНрджреАрди рдЪрд┐рд╢реНрддреА рдХреА рд╡рд┐рд╢реНрд╡рдкреНрд░рд╕рд┐рджреНрдз рджрд░рдЧрд╛рд╣ рд░рд╛рдЬрд╕реНрдерд╛рди рдХреЗ рдЕрдЬрдореЗрд░ рдореЗрдВ рд╣реИ, рдЬреЛ рднрд╛рд░рдд рдХрд╛ рдкреНрд░рдореБрдЦ рд╕реВрдлреА рддреАрд░реНрде рд╕реНрдерд▓ рд╣реИред"
};

let currentQuestionIndex=0;
let solutionsIndex=0;
let time=10*60; // 10 рдорд┐рдирдЯ
let timer;
let answers=new Array(questions.length).fill(null);
let totalScore=0;

function initQuiz(){
  showQuestion(currentQuestionIndex);
  startTimer();
  updateNavigation();
}

function showQuestion(index){
  const q=questions[index];
  const html=`
    <b>${index+1}. ${q[0]}</b><br><br>
    <label><input type="radio" name="answer" value="A"> ${q[1]}</label>
    <label><input type="radio" name="answer" value="B"> ${q[2]}</label>
    <label><input type="radio" name="answer" value="C"> ${q[3]}</label>
    <label><input type="radio" name="answer" value="D"> ${q[4]}</label>
  `;
  document.getElementById("currentQuestion").innerHTML=html;
  if(answers[index]){
    const r=document.querySelector(`input[name="answer"][value="${answers[index]}"]`);
    if(r) r.checked=true;
  }
  document.getElementById("pageInfo").textContent=`рдкреНрд░рд╢реНрди ${index+1} / ${questions.length}`;
  document.getElementById("progressBar").style.width=`${((index+1)/questions.length)*100}%`;
}

function saveAnswer(){
  const sel=document.querySelector('input[name="answer"]:checked');
  if(sel) answers[currentQuestionIndex]=sel.value;
}

function changeQuestion(dir){
  saveAnswer();
  const ni=currentQuestionIndex+dir;
  if(ni>=0 && ni<questions.length){
    currentQuestionIndex=ni;
    showQuestion(currentQuestionIndex);
    updateNavigation();
  }
}

function updateNavigation(){
  document.getElementById("prevBtn").disabled=currentQuestionIndex===0;
  document.getElementById("nextBtn").style.display=currentQuestionIndex===questions.length-1?'none':'inline-block';
  document.getElementById("submitBtn").style.display=currentQuestionIndex===questions.length-1?'inline-block':'none';
}

function startTimer(){
  timer=setInterval(()=>{
    let m=Math.floor(time/60),s=time%60;
    document.getElementById("timer").innerText=`Time: ${m}:${s<10?"0"+s:s}`;
    time--;
    if(time<0) submitQuiz();
  },1000);
}

function submitQuiz(){
  saveAnswer();
  clearInterval(timer);
  totalScore=0;
  for(let i=0;i<questions.length;i++){
    if(answers[i]===questions[i][5]) totalScore++;
  }
  document.getElementById("quizScreen").classList.add("hidden");
  document.getElementById("scoreScreen").classList.remove("hidden");
  const pct=Math.round((totalScore/questions.length)*100);
  let grade=pct>=80?'рдЙрддреНрдХреГрд╖реНрдЯ тнРтнРтнР':pct>=60?'рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ тнРтнР':pct>=40?'рдЕрдЪреНрдЫрд╛ тнР':'рд╕реБрдзрд╛рд░ рдХреА рдЬрд░реВрд░рдд';
  document.getElementById("finalScoreDisplay").innerHTML=`${totalScore}/${questions.length} (${pct}%)`;
  document.getElementById("gradeDisplay").innerText=grade;
}

function openSolutions(){
  document.getElementById("scoreScreen").classList.add("hidden");
  document.getElementById("solutionsScreen").classList.remove("hidden");
  const pct=Math.round((totalScore/questions.length)*100);
  document.getElementById("solutionsScoreDisplay").innerHTML=`рд╕реНрдХреЛрд░: ${totalScore}/${questions.length} (${pct}%)`;
  solutionsIndex=0;
  renderSolution(solutionsIndex);
  updateSolutionNav();
}

function backToScore(){
  document.getElementById("solutionsScreen").classList.add("hidden");
  document.getElementById("scoreScreen").classList.remove("hidden");
}

function renderSolution(index){
  const q=questions[index];
  const userAns=answers[index];
  const correctAns=q[5];
  const isCorrect=userAns===correctAns;

  let optionsHTML='';
  for(let i=1;i<=4;i++){
    const opt=q[i];
    const key=String.fromCharCode(64+i);
    const isUser=userAns===key;
    const isCorrectOpt=correctAns===key;
    let cls='',prefix='',border='#ddd';

    if(isCorrectOpt){
      cls='correct-answer';
      prefix='тЬЕ ';
      border='#28a745';
    }
    if(isUser && !isCorrectOpt){
      cls='wrong-answer';
      prefix='тЭМ ';
      border='#dc3545';
    }

    optionsHTML+=`<div class="${cls}" style="margin:8px 0;padding:15px;background:#f9f9f9;border-radius:10px;border-left:5px solid ${border};">
      ${prefix}<strong>${key}.</strong> ${opt}
    </div>`;
  }

  const explanation=detailedExplanations[index];

  document.getElementById("currentSolution").innerHTML=`
    <div class="question ${isCorrect?'correct':'wrong'}">
      <h3>${index+1}. ${q[0]}</h3>
      <div style="margin:25px 0;">${optionsHTML}</div>
      <div class="solution-box">
        <strong>ЁЯТб рд╕рд╣реА рдЙрддреНрддрд░:</strong><br>
        <span class="correct-answer" style="font-size:22px;">
          ${correctAns}
        </span>
      </div>
      <div class="comprehensive-solution">
        <strong>ЁЯУЦ рд╡рд┐рд╕реНрддреГрдд рд╡реНрдпрд╛рдЦреНрдпрд╛:</strong><br>${explanation}
      </div>
    </div>
    <div class="page-info">рдкреНрд░рд╢реНрди ${index+1} / ${questions.length}</div>
  `;
}

function changeSolution(dir){
  const ni=solutionsIndex+dir;
  if(ni>=0 && ni<questions.length){
    solutionsIndex=ni;
    renderSolution(solutionsIndex);
    updateSolutionNav();
  }
}

function updateSolutionNav(){
  document.getElementById("solPrevBtn").disabled=solutionsIndex===0;
  document.getElementById("solNextBtn").disabled=solutionsIndex===questions.length-1;
}

initQuiz();
</script>
</body>
</html>
